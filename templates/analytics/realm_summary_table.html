<h2 style="text-align: center;">{{ num_active_sites }} active sites</h2>

<ul>
    <li><strong>user</strong> - registered user, not deactivated, not a bot</li>
    <li><strong>active (user)</strong> - sent a message, or advanced the pointer (reading messages doesn't count unless advances the pointer)</li>
    <li><strong>DAU</strong> (Daily Active Users) - users active in last 24hr</li>
    <li><strong>WAU</strong> (Weekly Active Users) - users active in last 7 * 24hr</li>
    <li><strong>DAT</strong> (Daily Active Time) - total user-activity time in last 24hr</li>
    <li><strong>Human message</strong> - message sent by non-bot user, and not with known-bot client</li>
</ul>

<table class="table summary-table sortable table-striped table-bordered">

    <thead class="activity_head">
        <tr>
            <th>Realm</th>
            <th>Created</th>
            <th>DAU</th>
            <th>WAU</th>
            <th>Total users</th>
            <th>Bots</th>
            <th>DAT/DAU (hr)</th>
            <th>DAT (hr)</th>
            <th></th>
            <th colspan=8>Human messages sent, last 8 x 24hr (latest first)</th>
        </tr>
    </thead>

    <tbody>
        {% for row in rows %}
        <tr>

            <td>
                {{ row.string_id }}
            </td>

            <td>
                {{ row.date_created }}
            </td>

            <td class="number">
                {{ row.dau_count }}
            </td>

            <td class="number">
                {{ row.wau_count }}
            </td>

            <td class="number">
                {{ row.user_profile_count }}
            </td>

            <td class="number">
                {{ row.bot_count }}
            </td>

            <td class="number">
                {% if row.hours_per_user %}
                {{ row.hours_per_user }}
                {% endif %}
            </td>

            <td class="number">
                {{ row.hours }}
            </td>

            <td>&nbsp;</td>

            {% if row.history %}
            {{ row.history|safe }}
            {% else %}
            <td colspan=8></td>
            {% endif %}
        </tr>
        {% endfor %}
    </tbody>

</table>
