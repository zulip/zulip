<div id="message-row-{{message_list_id}}-{{msg/id}}" data-message-id="{{msg/id}}"
  class="message_row{{#unless msg/is_stream}} private-message{{/unless}}{{#if include_sender}} messagebox-includes-sender{{/if}}{{#if mention_classname}} {{mention_classname}}{{/if}}{{#if msg.unread}} unread{{/if}} {{#if msg.locally_echoed}}locally-echoed{{/if}} selectable_row {{#if is_hidden}}muted-message-sender{{/if}}"
  role="listitem">
    {{#if (or want_subscription_status_divider want_date_divider)}}
    <div class="unread_marker message_divider_unread_marker"><div class="unread-marker-fill"></div></div>
    <div class="message_feed_divider no-select">
        {{#if want_subscription_status_divider}}
        <span class="stream-status">
            {{#if msg/historical }}
                {{#tr}}
                    You unsubscribed from <z-stream-name></z-stream-name>.
                    {{#*inline "z-stream-name"}}{{> stream_privacy . }} {{msg/display_recipient}}{{/inline}}
                {{/tr}}
            {{else}}
                {{#tr}}
                    You subscribed to <z-stream-name></z-stream-name>.
                    {{#*inline "z-stream-name"}}{{> stream_privacy . }} {{msg/display_recipient}}{{/inline}}
                {{/tr}}
            {{/if}}
        </span>
        {{/if}}
        {{#if want_date_divider}}
            {{{date_divider_html}}}
        {{/if}}
    </div>
    {{/if}}
    <div class="unread_marker message_unread_marker"><div class="unread-marker-fill"></div></div>
    <div class="messagebox">
        <div class="messagebox-content {{#if status_message}}is-me-message{{/if}}">
            {{> message_body .}}
            {{!-- message_edit_form.hbs is inserted here when editing a message. --}}
        </div>
    </div>
</div>
